/* This file NO LONGER contains layout styles (e.g., body, .gantt-form).
  Those are now handled by Tailwind CSS in index.html.
  
  This file ONLY contains styles that are dynamically
  applied by main.js to the chart, modal, and chat interface.
  It is still required for the application to look correct.
*/
@import url('https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600&display=swap'); /* CHANGED */

/* --- ACCESSIBILITY UTILITIES --- */
/* Screen reader only class - visually hidden but accessible to screen readers */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ACCESSIBILITY: Visible focus indicators for keyboard navigation (WCAG 2.1 AA) */
/* Remove default outline and replace with custom high-contrast focus ring */
button:focus,
a:focus,
input:focus,
textarea:focus,
select:focus,
.gantt-bar:focus {
  outline: 3px solid #50AF7B; /* Green focus ring with 3px width */
  outline-offset: 2px; /* 2px spacing from element */
}

/* Focus within - for container elements */
button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 3px solid #50AF7B;
  outline-offset: 2px;
}

/* Skip to main content link (hidden until focused) */
.skip-to-content {
  position: absolute;
  top: -40px;
  left: 0;
  background: #50AF7B;
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  font-weight: 600;
  z-index: 100;
  border-radius: 0 0 4px 0;
}

.skip-to-content:focus {
  top: 0;
  outline: 3px solid white;
  outline-offset: 2px;
}

/* --- GANTT CHART STYLES --- */
/* These are applied by main.js when building the chart */

/* 6. Gantt Chart Container */
#gantt-chart-container {
  width: 100%;
  border: 1px solid #0D0D0D; /* Darker border (using grid line color) */
  border-radius: 8px;
  background-color: #0c2340; /* Chart Background */
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  overflow: visible;
  margin-top: 24px;
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  position: relative; /* Added for vertical SVG border */
}

/* 7. Chart Title Container (holds title text and logo) */
.gantt-title-container {
  /* Flexbox properties are set inline in JavaScript for dynamic alignment */
  transition: all 0.2s;
}

/* Chart Title */
.gantt-title {
  text-align: center;
  font-size: 40px; /* Increased from 36px for better readability */
  font-weight: 700; /* Increased from 600 for better readability */
  color: #FFFFFF; /* Text Color */
  transition: all 0.2s;
  /* Note: padding, border, background, and border-radius are now on .gantt-title-container */
}

/* Show outline on title hover when in edit mode */
.gantt-title.edit-mode-enabled:hover {
  outline: 2px dashed rgba(80, 175, 123, 0.6);
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.1);
  cursor: text;
}

/* Style for title when actively being edited */
.gantt-title[contenteditable="true"],
.gantt-title.editing {
  outline: 2px solid #50AF7B;
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.15);
  cursor: text;
}

.gantt-title[contenteditable="true"]:focus,
.gantt-title.editing:focus {
  outline: 2px solid #3C8D62;
  background-color: rgba(80, 175, 123, 0.2);
}

/* 8. Main Grid Layout */
.gantt-grid {
  display: grid;
  width: 100%;
  position: relative; /* For "Today" line */
}

/* 9. Grid Header (Weeks) */
.gantt-header {
  font-size: 26px; /* Increased from 24px for better readability */
  font-weight: 600; /* Increased from 500 for better readability */
  padding: 16px 10px; /* Increased padding to match larger text */
  text-align: center;
  background-color: #0c2340; /* CHANGED to new color */
  border-bottom: 1px solid #0D0D0D; /* Grid line color (Correctly not white) */
  border-left: 0.5px solid #0D0D0D; /* Grid line color (CHANGED to black) */
  color: #FFFFFF; /* Text Color */
}
.gantt-header-label { /* First header cell (empty) */
  border-left: 0; /* Keep left border at 0 */
  /* background-color: #28228; */ /* Removed this override */
}

/* 10. Row Label (Swimlane or Task) */
.gantt-row-label {
  padding: 0; /* Remove padding from parent - will be applied to children */
  font-size: 13px; /* Base size */
  border-bottom: 1px solid #0D0D0D; /* Grid line color */
  white-space: nowrap; /* Prevent text wrapping - column will auto-expand */
  overflow: visible; /* Allow text to be fully visible */
  display: grid; /* Changed to grid for better html2canvas alignment support */
  grid-template-columns: 1fr auto; /* Label content takes available space, actions auto-size */
  align-items: center; /* Grid align-items may work better than flex in html2canvas */
  gap: 12px;
  min-height: 40px; /* Ensure minimum height for proper centering */
}

/* Phase 3: Label content wrapper */
.gantt-row-label .label-content {
  /* Grid item - no flex properties needed */
  min-width: 0;
  transition: all 0.2s;
  border-radius: 4px;
  padding: 10px 12px;
  display: block;
  line-height: 1.2; /* Explicit line-height */
}

/* Show outline on label hover when in edit mode (for both tasks and swimlanes) */
.gantt-grid.edit-mode-enabled .gantt-row-label.task:hover .label-content,
.gantt-grid.edit-mode-enabled .gantt-row-label.swimlane:hover .label-content {
  outline: 2px dashed rgba(80, 175, 123, 0.6);
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.1);
}

/* Phase 3: Row action buttons */
.row-actions {
  display: none; /* Hidden by default */
  gap: 6px;
  align-items: center; /* Grid item - should align with parent grid */
}

/* Show row actions on hover only when edit mode is enabled */
.gantt-grid.edit-mode-enabled .gantt-row-label:hover .row-actions {
  display: flex; /* Display as flex to layout buttons horizontally */
}

.row-action-btn {
  width: 32px; /* Increased from 24px for better visibility */
  height: 32px; /* Increased from 24px for better visibility */
  border: 2px solid rgba(255, 255, 255, 0.3); /* Add border for emphasis */
  border-radius: 6px;
  font-size: 22px; /* Increased from 18px */
  font-weight: bold;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  line-height: 1;
  padding: 0;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3); /* Add shadow for depth */
}

.row-action-btn.add-task {
  background-color: #50AF7B;
  color: white;
}

.row-action-btn.add-task:hover {
  background-color: #3C8D62;
  transform: scale(1.15); /* Increased from 1.1 */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
  border-color: rgba(255, 255, 255, 0.5);
}

.row-action-btn.delete-task {
  background-color: #BA3930;
  color: white;
}

.row-action-btn.delete-task:hover {
  background-color: #9A2F28;
  transform: scale(1.15); /* Increased from 1.1 */
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
  border-color: rgba(255, 255, 255, 0.5);
}

/* Phase 4: Editable label styles */
.label-content[contenteditable="true"],
.label-content.editing {
  outline: 2px solid #50AF7B;
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.1);
  border-radius: 4px;
  padding: 2px 4px;
  cursor: text;
}

.label-content[contenteditable="true"]:focus,
.label-content.editing:focus {
  outline: 2px solid #3C8D62;
  background-color: rgba(80, 175, 123, 0.15);
}

.gantt-row-label.swimlane {
  font-weight: 700; /* Increased from 600 for better readability */
  color: #FFFFFF; /* Text Color */
  background-color: #0C2340; /* Set swimlane title background */
  font-size: 30px; /* Increased from 28px for better readability */
  padding: 0; /* Padding moved to .label-content */
  line-height: 1.2; /* Explicit line-height for consistent html2canvas rendering */
}

.gantt-row-label.swimlane .label-content {
  padding: 16px 18px; /* Swimlane-specific padding */
}

.gantt-row-label.task {
  padding: 0; /* Padding moved to .label-content */
  font-weight: 500; /* Increased from 400 for better readability */
  color: #FFFFFF; /* Text Color */
  border-bottom: 1px solid #0D0D0D; /* Grid line color */
  background-color: #354259; /* Set task title background - default blue */
  font-size: 26px; /* Increased from 24px for better readability */
  line-height: 1.2; /* Explicit line-height for consistent html2canvas rendering */
}

.gantt-row-label.task .label-content {
  padding: 14px 16px 14px 36px; /* Task-specific padding with left indent */
}

.gantt-row-label.task:hover {
  background-color: #546579; /* Keep static blue on hover */
  cursor: pointer;
}

/* 11. Bar Area */
.gantt-bar-area {
  position: relative;
  display: grid;
  align-items: center; /* Center bars vertically */
  min-height: 32px; /* Ensure minimum height for rows */
}

.gantt-bar-area.task {
  background-color: #383838; /* Task row background */
}

.gantt-bar-area.task:hover,
.gantt-bar-area.task.row-hover {
  background-color: #546579; /* Hover effect */
  cursor: pointer;
}

.gantt-bar-area.swimlane {
  background-color: #0c2340; /* Swimlane background */
}

/* 11a. Time Cell (individual cells within bar area for grid lines) */
.gantt-time-cell {
  grid-row: 1;
  pointer-events: none; /* Allow clicks to pass through to bar area */
  background: transparent; /* Inherit background from bar area */
  z-index: 1; /* Above bar area background, below bars */
}

/* 12. The Actual Bar */
.gantt-bar {
  position: relative;
  height: 20px;
  margin: 6px 4px; /* Vertical centering, small horizontal gap */
  border-radius: 4px;
  color: white;
  z-index: 2; /* Above time cells (which are z-index 1) */
  overflow: visible; /* Changed to visible for resize handles */
  grid-row: 1; /* Always on the first (and only) row of its container */
}

/* Phase 2: Resize handles using pseudo-elements */
/* By default, handles have no content (completely hidden) */
.gantt-bar::before,
.gantt-bar::after {
  content: none; /* No content by default - prevents any visibility */
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 10px; /* Increased from 6px */
  height: 90%; /* Increased from 80% */
  background: rgba(255, 255, 255, 0.9); /* More opaque */
  cursor: ew-resize;
  opacity: 0;
  transition: all 0.2s;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  color: rgba(0, 0, 0, 0.6);
  font-weight: bold;
  border: 2px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

.gantt-bar::before {
  left: 0;
  border-radius: 4px 0 0 4px;
}

.gantt-bar::after {
  right: 0;
  border-radius: 0 4px 4px 0;
}

/* Only show resize handles in edit mode - add content AND make visible */
.gantt-grid.edit-mode-enabled .gantt-bar:hover::before,
.gantt-grid.edit-mode-enabled .gantt-bar:hover::after,
.gantt-bar.resizing::before,
.gantt-bar.resizing::after {
  content: '‚ãÆ‚ãÆ'; /* Add vertical dots symbol for visibility */
  opacity: 1;
}

/* Extra emphasis on hover for resize handles */
.gantt-grid.edit-mode-enabled .gantt-bar:hover::before:hover,
.gantt-grid.edit-mode-enabled .gantt-bar:hover::after:hover {
  background: rgba(80, 175, 123, 0.95);
  color: white;
  transform: translateY(-50%) scale(1.1);
}

/* Bar Colors (HIGH CONTRAST PALETTE) */
.gantt-bar[data-color="priority-red"] { background-color: #EF4444; } /* Bright Red */
.gantt-bar[data-color="medium-red"] { background-color: #FB923C; } /* Orange */
.gantt-bar[data-color="mid-grey"] { background-color: #14B8A6; } /* Teal */
.gantt-bar[data-color="light-grey"] { background-color: #E879F9; } /* Bright Pink-Purple */
.gantt-bar[data-color="white"] { background-color: #FFFFFF; } /* White */
.gantt-bar[data-color="dark-blue"] { background-color: #3B82F6; } /* Bright Blue */

/* Visual feedback for gantt bars in edit mode */
.gantt-grid.edit-mode-enabled .gantt-bar:hover {
  outline: 2px dashed rgba(255, 255, 255, 0.7);
  outline-offset: 2px;
  filter: brightness(1.15);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
}

/* 13. Export Button and Edit Mode Toggle Styling */
.export-container {
  display: flex;
  justify-content: center;
  gap: 16px; /* Space between buttons */
  padding: 32px 0 24px 0; /* Increased padding for more prominence */
  font-family: 'Work Sans', sans-serif; /* CHANGED */
}
.export-button {
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  font-size: 20px; /* Increased from 14px */
  font-weight: 700; /* Increased from 600 for more prominence */
  color: #ffffff;
  background-color: #50AF7B; /* Use one of the old dark mode colors (Green) */
  border: none;
  border-radius: 8px; /* Increased from 6px */
  padding: 16px 48px; /* Increased from 10px 20px */
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3); /* Stronger shadow */
  transition: all 0.2s; /* Transition all properties */
}
.export-button:hover {
  background-color: #3C8D62;
  box-shadow: 0 6px 16px rgba(0,0,0,0.4); /* Even stronger shadow on hover */
  transform: translateY(-2px); /* Slight lift on hover */
}
.export-button:disabled {
  background-color: #4a4a4a;
  cursor: not-allowed;
  transform: none; /* No lift when disabled */
}

/* Edit Mode Toggle Button */
.edit-mode-toggle-button {
  font-family: 'Work Sans', sans-serif;
  font-size: 20px;
  font-weight: 700;
  color: #ffffff;
  background-color: #BA3930; /* Red for locked/disabled state */
  border: none;
  border-radius: 8px;
  padding: 16px 48px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  transition: all 0.2s;
}
.edit-mode-toggle-button:hover {
  box-shadow: 0 6px 16px rgba(0,0,0,0.4);
  transform: translateY(-2px);
  filter: brightness(1.1); /* Brighten on hover */
}

/* Copy Share URL Button */
.copy-url-button {
  font-family: 'Work Sans', sans-serif;
  font-size: 20px;
  font-weight: 700;
  color: #ffffff;
  background-color: #1976D2; /* Blue for sharing/link action */
  border: none;
  border-radius: 8px;
  padding: 16px 48px;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
  transition: all 0.2s;
}
.copy-url-button:hover {
  background-color: #1565C0;
  box-shadow: 0 6px 16px rgba(0,0,0,0.4);
  transform: translateY(-2px);
}

/* ------------------------------------------------------------------- */
/* --- "TODAY" VERTICAL LINE --- */
/* ------------------------------------------------------------------- */
.gantt-today-line {
  position: absolute;
  width: 1px; /* Thin red line */
  background-color: #BA3930; /* Use Red color from old palette */
  z-index: 3; /* Above bars (bars are z-index 2) */
  /* 'top', 'bottom', and 'left' are set by JavaScript */
}


/* ------------------------------------------------------------------- */
/* --- ANALYSIS MODAL STYLES (Adjusted for Dark Mode) --- */
/* ------------------------------------------------------------------- */

.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7); /* Darker overlay */
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  padding: 24px;
  box-sizing: border-box;
  font-family: 'Work Sans', sans-serif; /* CHANGED */
}

.modal-content {
  background-color: #1A1A1A; /* Dark Modal Background */
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
  width: 100%;
  max-width: 700px;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  color: #FFFFFF; /* Default text color */
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px 24px;
  border-bottom: 1px solid #383838; /* Darker separator */
}

.modal-title {
  font-size: 18px;
  font-weight: 600;
  color: #FFFFFF;
  margin: 0;
}

.modal-actions {
  display: flex;
  gap: 12px;
  align-items: center;
}

.modal-export-btn {
  font-size: 20px;
  color: #BFBFBF; /* ACCESSIBILITY: Updated from #AAAAAA for WCAG 2.1 AA compliance (5.5:1 contrast) */
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px 8px;
  line-height: 1;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.modal-export-btn:hover {
  color: #50AF7B;
  background-color: rgba(80, 175, 123, 0.1);
}

.modal-close {
  font-size: 28px;
  font-weight: 300;
  color: #BFBFBF; /* ACCESSIBILITY: Updated from #AAAAAA for WCAG 2.1 AA compliance (5.5:1 contrast) */ /* Light grey close button */
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  line-height: 1;
}
.modal-close:hover {
  color: #FFFFFF;
}

.modal-body {
  padding: 24px;
  overflow-y: auto;
  color: #FFFFFF;
}

.modal-spinner {
  width: 32px;
  height: 32px;
  border: 4px solid #383838;
  border-top-color: #50AF7B; /* Green accent */
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 40px auto;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.modal-error {
  color: #BA3930;
  font-weight: 500;
  text-align: center;
  padding: 20px;
}

.analysis-section {
  margin-bottom: 20px;
}
.analysis-section:last-child {
  margin-bottom: 0;
}

.analysis-section h4 {
  font-size: 20px; /* Increased from 14px for better readability */
  font-weight: 600;
  color: #FFFFFF;
  margin-top: 0;
  margin-bottom: 8px;
  border-bottom: 1px solid #383838; /* Darker separator */
  padding-bottom: 4px;
}

.analysis-section p {
  font-size: 18px; /* Increased from 14px for better readability */
  color: #CCCCCC; /* Lighter text for body */
  line-height: 1.6;
  margin: 0;
}

.status-pill {
  display: inline-block;
  padding: 4px 12px; /* Increased padding for larger text */
  font-size: 16px; /* Increased from 12px for better readability */
  font-weight: 600;
  border-radius: 999px;
  text-transform: capitalize;
}
/* Re-mapped status colors for dark background contrast */
.status-pill.status-completed {
  color: #50AF7B; /* Green text */
  background-color: #1A3025; /* Dark Green background */
}
.status-pill.status-in-progress {
  color: #EE9E20; /* Ochre text */
  background-color: #382A13; /* Dark Ochre background */
}
.status-pill.status-not-started {
  color: #BA3930; /* Red text */
  background-color: #2F120F; /* Dark Red background */
}
.status-pill.status-n\/a {
  color: #BFBFBF; /* ACCESSIBILITY: Updated from #AAAAAA for WCAG 2.1 AA compliance (5.5:1 contrast) */
  background-color: #383838;
}


.analysis-list {
  list-style: none;
  padding: 0;
  margin: 0;
}
.analysis-list li {
  padding: 8px 0;
  border-bottom: 1px solid #383838; /* Darker separator */
}
.analysis-list li:last-child {
  border-bottom: 0;
}
.analysis-list li p {
  margin: 0;
  font-size: 18px; /* Increased from 14px for better readability */
  color: #CCCCCC;
}
.analysis-list li .source {
  font-size: 16px; /* Increased from 12px for better readability */
  color: #B3B3B3; /* ACCESSIBILITY: Updated from #888888 for WCAG 2.1 AA compliance (5.0:1 contrast) */
  font-style: italic;
}

.analysis-list li .source a {
  color: #2E7BB1; /* Dark Blue link */
  text-decoration: underline;
  cursor: pointer;
  font-style: italic; /* Maintain italic style */
}
.analysis-list li .source a:hover {
  color: #66A3D9; /* Lighter blue on hover */
}


/* ------------------------------------------------------------------- */
/* --- CHAT INTERFACE STYLES (Adjusted for Dark Mode) --- */
/* ------------------------------------------------------------------- */

.chat-container {
  margin-top: 24px;
  border-top: 1px solid #383838;
  padding-top: 20px;
}

.chat-title {
  font-size: 20px; /* Increased from 14px for better readability */
  font-weight: 600;
  color: #FFFFFF;
  margin-top: 0;
  margin-bottom: 12px;
}

.chat-history {
  height: 150px;
  max-height: 150px;
  overflow-y: auto;
  border: 1px solid #383838;
  border-radius: 6px;
  padding: 12px;
  background-color: #0c2340; /* Match chart background */
  margin-bottom: 12px;
}

.chat-message {
  font-size: 18px; /* Increased from 14px for better readability */
  line-height: 1.6;
  padding: 10px 14px; /* Increased padding for larger text */
  border-radius: 8px;
  margin-bottom: 8px;
  max-width: 85%;
}
.chat-message:last-child {
  margin-bottom: 0;
}

.chat-message-user {
  background-color: #2E7BB1; /* Dark Blue */
  color: #FFFFFF;
  margin-left: auto;
  text-align: right;
}

.chat-message-llm {
  background-color: #383838; /* Dark Grey */
  color: #FFFFFF;
  margin-right: auto;
  text-align: left;
}

.chat-spinner {
  width: 16px;
  height: 16px;
  border: 2px solid #555555;
  border-top-color: #BFBFBF; /* ACCESSIBILITY: Updated from #AAAAAA for WCAG 2.1 AA compliance */
  border-radius: 50%;
  animation: spin 1s linear infinite;
  display: inline-block; 
}

.chat-form {
  display: flex;
  gap: 8px;
}

.chat-input {
  flex-grow: 1;
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  font-size: 18px; /* Increased from 14px for better readability */
  border: 1px solid #383838;
  border-radius: 6px;
  padding: 10px 14px; /* Increased padding for larger text */
  color: #FFFFFF;
  background-color: #0c2340;
}

.chat-send-btn {
  font-family: 'Work Sans', sans-serif; /* CHANGED */
  font-size: 18px; /* Increased from 14px for better readability */
  font-weight: 600;
  color: #ffffff;
  background-color: #2E7BB1; /* Dark Blue send button */
  border: none;
  border-radius: 6px;
  padding: 8px 16px;
  cursor: pointer;
  transition: background-color 0.2s;
}
.chat-send-btn:hover {
  background-color: #1F6AA1;
}

/* ------------------------------------------------------------------- */
/* --- PHASE 1 ENHANCEMENTS - TASK ANALYSIS STYLES --- */
/* ------------------------------------------------------------------- */

/* Increase modal width for richer content */
.modal-content {
  max-width: 900px; /* Increased from 700px */
}

/* Collapsible Sections */
.analysis-section.collapsible {
  transition: all 0.3s ease;
}

.collapsible-header {
  cursor: pointer;
  user-select: none;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.collapsible-header:hover {
  color: #FFFFFF !important;
  opacity: 0.9;
}

.collapse-toggle {
  font-size: 16px; /* Increased from 12px for better readability */
  transition: transform 0.3s ease;
  margin-left: 8px;
}

.analysis-section.collapsed .scenarios-container,
.analysis-section.collapsed .risks-container,
.analysis-section.collapsed .impact-content,
.analysis-section.collapsed .scheduling-content,
.analysis-section.collapsed .progress-content,
.analysis-section.collapsed .accelerators-content {
  display: none;
}

.analysis-section.collapsed {
  padding-bottom: 12px;
}

/* Timeline Scenarios Section */
.timeline-scenarios-section {
  background-color: #222222;
  border: 1px solid #383838;
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 24px;
}

.scenarios-container {
  margin-top: 12px;
}

.timeline-scenario {
  margin-bottom: 16px;
}

.timeline-scenario:last-child {
  margin-bottom: 0;
}

.scenario-header {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 8px;
  flex-wrap: wrap;
}

.scenario-label {
  font-weight: 600;
  font-size: 18px; /* Increased from 14px for better readability */
  color: #FFFFFF;
  min-width: 110px; /* Increased to accommodate larger text */
}

.scenario-date {
  font-weight: 500;
  font-size: 18px; /* Increased from 14px for better readability */
  color: #CCCCCC;
}

.confidence-badge {
  font-size: 14px; /* Increased from 11px for better readability */
  font-weight: 600;
  padding: 4px 10px; /* Increased padding for larger text */
  border-radius: 12px;
  text-transform: uppercase;
}

.confidence-high {
  background-color: #1A3025;
  color: #50AF7B;
}

.confidence-medium {
  background-color: #382A13;
  color: #EE9E20;
}

.confidence-low {
  background-color: #2F120F;
  color: #BA3930;
}

/* Timeline bars */
.timeline-bar {
  height: 8px;
  border-radius: 4px;
  margin-bottom: 6px;
  position: relative;
}

.best-case-bar {
  background: linear-gradient(90deg, #50AF7B 0%, #6BC794 100%);
  width: 60%;
}

.expected-bar {
  background: linear-gradient(90deg, #EE9E20 0%, #F5B555 100%);
  width: 80%;
}

.worst-case-bar {
  background: linear-gradient(90deg, #BA3930 0%, #D45A51 100%);
  width: 100%;
}

.scenario-detail {
  font-size: 17px; /* Increased from 13px for better readability */
  color: #BFBFBF; /* ACCESSIBILITY: Updated from #AAAAAA for WCAG 2.1 AA compliance (5.5:1 contrast) */
  font-style: italic;
  margin: 4px 0 0 0;
  line-height: 1.5;
}

.delay-factors {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid #383838;
}

.delay-factors h5 {
  font-size: 18px; /* Increased from 13px for better readability */
  font-weight: 600;
  color: #FFFFFF;
  margin: 0 0 8px 0;
}

.delay-factors ul {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

.delay-factors li {
  font-size: 17px; /* Increased from 13px for better readability */
  color: #CCCCCC;
  padding: 4px 0 4px 20px;
  position: relative;
}

.delay-factors li:before {
  content: "‚ö†Ô∏è";
  position: absolute;
  left: 0;
}

/* Risk Analysis Section */
.risks-section {
  background-color: #222222;
  border: 1px solid #383838;
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 24px;
}

.risks-container {
  margin-top: 12px;
}

.risk-card {
  background-color: #1A1A1A;
  border-left: 4px solid #383838;
  border-radius: 6px;
  padding: 12px 16px;
  margin-bottom: 12px;
}

.risk-card:last-child {
  margin-bottom: 0;
}

.risk-card.risk-high {
  border-left-color: #BA3930;
}

.risk-card.risk-medium {
  border-left-color: #EE9E20;
}

.risk-card.risk-low {
  border-left-color: #666666;
}

.risk-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
  flex-wrap: wrap;
}

.risk-severity-badge {
  font-size: 14px; /* Increased from 11px for better readability */
  font-weight: 700;
  padding: 3px 8px;
  border-radius: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.severity-high {
  background-color: #2F120F;
  color: #BA3930;
}

.severity-medium {
  background-color: #382A13;
  color: #EE9E20;
}

.severity-low {
  background-color: #2A2A2A;
  color: #B3B3B3; /* ACCESSIBILITY: Updated from #888888 for WCAG 2.1 AA compliance (5.0:1 contrast) */
}

.risk-likelihood {
  font-size: 16px; /* Increased from 12px for better readability */
  color: #BFBFBF; /* ACCESSIBILITY: Updated from #AAAAAA for WCAG 2.1 AA compliance (5.5:1 contrast) */
  font-style: italic;
}

.risk-name {
  font-size: 18px; /* Increased from 14px for better readability */
  font-weight: 600;
  color: #FFFFFF;
  flex-grow: 1;
}

.risk-impact,
.risk-mitigation {
  font-size: 17px; /* Increased from 13px for better readability */
  color: #CCCCCC;
  line-height: 1.5;
  margin: 6px 0;
}

.risk-impact strong,
.risk-mitigation strong {
  color: #FFFFFF;
  font-weight: 600;
}

/* Impact Analysis Section */
.impact-section {
  background-color: #222222;
  border: 1px solid #383838;
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 24px;
}

.impact-content {
  margin-top: 12px;
}

.impact-item {
  font-size: 18px; /* Increased from 14px for better readability */
  color: #CCCCCC;
  line-height: 1.6;
  margin: 8px 0;
}

.impact-item strong {
  color: #FFFFFF;
  font-weight: 600;
  display: inline-block;
  min-width: 140px;
}

.impact-value {
  color: #EE9E20;
  font-weight: 600;
}

/* Scheduling Context Section */
.scheduling-section {
  background-color: #222222;
  border: 1px solid #383838;
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 24px;
}

.scheduling-content {
  margin-top: 12px;
}

.scheduling-item {
  font-size: 18px; /* Increased from 14px for better readability */
  color: #CCCCCC;
  line-height: 1.6;
  margin: 12px 0;
}

.scheduling-item strong {
  color: #FFFFFF;
  font-weight: 600;
  display: block;
  margin-bottom: 4px;
}

.dependency-list {
  list-style: none;
  padding-left: 0;
  margin: 4px 0 0 0;
}

.dependency-list li {
  font-size: 17px; /* Increased from 13px for better readability */
  color: #CCCCCC;
  padding: 4px 0 4px 20px;
  position: relative;
}

.dependency-list li:before {
  content: "‚Üí";
  position: absolute;
  left: 0;
  color: #2E7BB1;
  font-weight: bold;
}

/* ------------------------------------------------------------------- */
/* --- PHASE 2 ENHANCEMENTS - PROGRESS & ACCELERATORS STYLES --- */
/* ------------------------------------------------------------------- */

/* Progress Indicators Section */
.progress-section {
  background-color: #222222;
  border: 1px solid #383838;
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 24px;
}

.progress-content {
  margin-top: 12px;
}

/* Progress Bar */
.progress-bar-container {
  margin-bottom: 16px;
}

.progress-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
  flex-wrap: wrap;
  gap: 8px;
}

.progress-percent {
  font-size: 16px;
  font-weight: 600;
  color: #FFFFFF;
}

.velocity-badge {
  font-size: 12px;
  font-weight: 600;
  padding: 4px 10px;
  border-radius: 12px;
  text-transform: capitalize;
}

.velocity-on-track {
  background-color: #1A3025;
  color: #50AF7B;
}

.velocity-behind {
  background-color: #2F120F;
  color: #BA3930;
}

.velocity-ahead {
  background-color: #1A2530;
  color: #66A3D9;
}

.progress-bar-track {
  height: 12px;
  background-color: #383838;
  border-radius: 6px;
  overflow: hidden;
  position: relative;
}

.progress-bar-fill {
  height: 100%;
  border-radius: 6px;
  transition: width 0.3s ease;
  position: relative;
}

.progress-on-track {
  background: linear-gradient(90deg, #50AF7B 0%, #6BC794 100%);
}

.progress-behind {
  background: linear-gradient(90deg, #BA3930 0%, #D45A51 100%);
}

.progress-ahead {
  background: linear-gradient(90deg, #2E7BB1 0%, #66A3D9 100%);
}

/* Milestones */
.milestones-section {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid #383838;
}

.milestones-section h5 {
  font-size: 13px;
  font-weight: 600;
  color: #FFFFFF;
  margin: 0 0 12px 0;
}

.milestones-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.milestone-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 8px 0;
  border-bottom: 1px solid #383838;
}

.milestone-item:last-child {
  border-bottom: none;
}

.milestone-icon {
  font-size: 16px;
  flex-shrink: 0;
  margin-top: 2px;
}

.milestone-details {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.milestone-name {
  font-size: 14px;
  color: #FFFFFF;
  font-weight: 500;
}

.milestone-date {
  font-size: 12px;
  color: #B3B3B3; /* ACCESSIBILITY: Updated from #888888 for WCAG 2.1 AA compliance (5.0:1 contrast) */
}

.milestone-completed .milestone-name {
  color: #CCCCCC;
}

.milestone-pending .milestone-name {
  color: #FFFFFF;
}

/* Active Blockers */
.blockers-section {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid #383838;
}

.blockers-section h5 {
  font-size: 13px;
  font-weight: 600;
  color: #BA3930;
  margin: 0 0 8px 0;
}

.blockers-list {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

.blockers-list li {
  font-size: 13px;
  color: #CCCCCC;
  padding: 6px 0;
  line-height: 1.5;
}

/* Motivators & Accelerators Section */
.accelerators-section {
  background-color: #222222;
  border: 1px solid #383838;
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 24px;
}

.accelerators-content {
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 16px;
}

.accelerator-subsection {
  background-color: #1A1A1A;
  border: 1px solid #2A2A2A;
  border-radius: 6px;
  padding: 12px;
}

.accelerator-subsection h5 {
  font-size: 13px;
  font-weight: 600;
  color: #FFFFFF;
  margin: 0 0 8px 0;
  border-bottom: 1px solid #383838;
  padding-bottom: 6px;
}

.accelerator-list {
  list-style: none;
  padding-left: 0;
  margin: 0;
}

.accelerator-list li {
  font-size: 13px;
  color: #CCCCCC;
  padding: 4px 0 4px 16px;
  position: relative;
  line-height: 1.5;
}

.accelerator-list li:before {
  content: "‚ñ∏";
  position: absolute;
  left: 0;
  color: #50AF7B;
  font-weight: bold;
}

/* ------------------------------------------------------------------- */
/* ADVANCED GANTT: Milestone Markers on Gantt Bars */
/* REMOVED: Milestone marker icons (üí∞ and ‚òÖ)
.milestone-marker {
  font-size: 16px;
  pointer-events: none;
  filter: drop-shadow(0 2px 4px rgba(0,0,0,0.4));
  line-height: 1;
  transition: transform 0.2s ease;
}

.milestone-marker.milestone-marker {
  filter: drop-shadow(0 2px 4px rgba(255, 215, 0, 0.3));
}

.milestone-marker.decision-marker {
  color: #FFD700;
  filter: drop-shadow(0 2px 4px rgba(255, 215, 0, 0.5));
}

.gantt-bar:hover .milestone-marker {
  transform: translateY(-50%) scale(1.2);
}

.light-theme .milestone-marker.decision-marker {
  color: #FF8C00;
  filter: drop-shadow(0 2px 4px rgba(255, 140, 0, 0.6));
}
*/

/* ------------------------------------------------------------------- */
/* --- PHASE 3 ENHANCEMENTS - MULTI-COLUMN LAYOUT & POLISH --- */
/* ------------------------------------------------------------------- */

/* Two-Column Layout */
.analysis-layout {
  display: flex;
  gap: 24px;
  flex-direction: column;
}

@media (min-width: 1000px) {
  .analysis-layout {
    flex-direction: row;
  }

  .analysis-sidebar {
    flex: 0 0 280px;
    position: sticky;
    top: 24px;
    align-self: flex-start;
    max-height: calc(90vh - 140px);
    overflow-y: auto;
  }

  .analysis-main {
    flex: 1;
    min-width: 0;
  }
}

/* Quick Facts Panel */
.quick-facts-panel {
  background-color: #1A1A1A;
  border: 1px solid #383838;
  border-radius: 8px;
  padding: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.quick-facts-panel h4 {
  font-size: 14px;
  font-weight: 600;
  color: #FFFFFF;
  margin: 0 0 16px 0;
  padding-bottom: 8px;
  border-bottom: 1px solid #383838;
}

.quick-fact {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid #2A2A2A;
}

.quick-fact:last-child {
  border-bottom: none;
  padding-bottom: 0;
}

.fact-label {
  font-size: 12px;
  color: #B3B3B3; /* ACCESSIBILITY: Updated from #888888 for WCAG 2.1 AA compliance (5.0:1 contrast) */
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.fact-value {
  font-size: 13px;
  color: #FFFFFF;
  font-weight: 500;
  text-align: right;
}

.fact-value.impact-highlight {
  color: #EE9E20;
  font-weight: 600;
}

.fact-value.confidence-high {
  color: #50AF7B;
}

.fact-value.confidence-medium {
  color: #EE9E20;
}

.fact-value.confidence-low {
  color: #BA3930;
}

.quick-fact.alert-fact {
  background-color: #2F120F;
  margin: 0 -16px;
  padding: 10px 16px;
  border-left: 3px solid #BA3930;
}

.quick-fact.alert-fact .fact-label {
  color: #FFFFFF;
  font-weight: 600;
}

.quick-fact.alert-fact .fact-value {
  color: #BA3930;
  font-weight: 700;
  font-size: 16px;
}

/* Confidence Badge in Header */
.confidence-badge-header {
  font-size: 11px;
  font-weight: 600;
  padding: 3px 10px;
  border-radius: 12px;
  text-transform: uppercase;
  margin-left: 12px;
  letter-spacing: 0.5px;
  display: inline-block;
  vertical-align: middle;
}

.confidence-badge-header.confidence-high {
  background-color: #1A3025;
  color: #50AF7B;
}

.confidence-badge-header.confidence-medium {
  background-color: #382A13;
  color: #EE9E20;
}

.confidence-badge-header.confidence-low {
  background-color: #2F120F;
  color: #BA3930;
}

/* Enhanced Visual Polish */
/* Add subtle shadows to major sections */
.timeline-scenarios-section,
.risks-section,
.impact-section,
.scheduling-section,
.progress-section,
.accelerators-section {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  transition: box-shadow 0.3s ease, transform 0.2s ease;
}

.timeline-scenarios-section:hover,
.risks-section:hover,
.impact-section:hover,
.scheduling-section:hover,
.progress-section:hover,
.accelerators-section:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
  transform: translateY(-2px);
}

/* Improve modal shadow */
.modal-content {
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
}

/* Add subtle gradient to modal header */
.modal-header {
  background: linear-gradient(135deg, #1A1A1A 0%, #242424 100%);
}

/* ------------------------------------------------------------------- */
/* --- GANTT LEGEND STYLES --- */
/* ------------------------------------------------------------------- */
.gantt-legend {
  padding: 32px 36px; /* Increased padding for more prominence */
  border-top: 2px solid #0D0D0D; /* Thicker border for separation */
  background-color: #0C2340; /* Set background to match swimlanes */
  color: #FFFFFF;
}

.legend-line {
  display: flex;
  align-items: center;
  gap: 20px; /* Space between "Legend:" and first item */
  flex-wrap: wrap; /* Allow wrapping if needed */
}

.legend-title {
  font-size: 44px; /* Increased from 40px for better visibility */
  font-weight: 700; /* Increased from 600 for more prominence */
  margin: 0;
  color: #FFFFFF;
  flex-shrink: 0; /* Prevent title from shrinking */
}

.legend-list {
  display: flex;
  flex-wrap: wrap;
  gap: 40px; /* Increased from 30px for better spacing */
  align-items: center;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 18px; /* Increased from 15px for more breathing room */
}

.legend-color-box {
  width: 36px; /* Increased from 28px for better visibility */
  height: 36px; /* Increased from 28px for better visibility */
  border-radius: 4px; /* Slightly larger radius to match size */
  border: 2px solid rgba(255, 255, 255, 0.3); /* Thicker, more visible border */
  flex-shrink: 0; /* Prevent box from shrinking */
}

/* Use data-color attributes for legend (HIGH CONTRAST PALETTE) */
.legend-color-box[data-color="priority-red"] { background-color: #EF4444; } /* Bright Red */
.legend-color-box[data-color="medium-red"] { background-color: #FB923C; } /* Orange */
.legend-color-box[data-color="mid-grey"] { background-color: #14B8A6; } /* Teal */
.legend-color-box[data-color="light-grey"] { background-color: #E879F9; } /* Bright Pink-Purple */
.legend-color-box[data-color="white"] { background-color: #FFFFFF; } /* White */
.legend-color-box[data-color="dark-blue"] { background-color: #3B82F6; } /* Bright Blue */


.legend-label-wrapper {
  transition: all 0.2s;
}

.legend-label {
  font-size: 32px; /* Increased from 28px for better readability */
  font-weight: 600; /* Added weight for better visibility */
  color: #FFFFFF; /* Changed from #CCCCCC for maximum contrast */
  line-height: 1.2; /* Better line spacing */
  transition: all 0.2s;
  border-radius: 4px;
  padding: 4px 8px;
  margin: -4px -8px; /* Offset padding to maintain alignment */
  display: inline-block;
}

/* Show outline on legend label hover when in edit mode */
.gantt-legend.edit-mode-enabled .legend-label:hover {
  outline: 2px dashed rgba(80, 175, 123, 0.6);
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.1);
  cursor: text;
}

/* Style for legend label when actively being edited */
.legend-label[contenteditable="true"],
.legend-label.editing {
  outline: 2px solid #50AF7B;
  outline-offset: 2px;
  background-color: rgba(80, 175, 123, 0.1);
  cursor: text;
}

.legend-label[contenteditable="true"]:focus,
.legend-label.editing:focus {
  outline: 2px solid #3C8D62;
  background-color: rgba(80, 175, 123, 0.15);
}

/* ------------------------------------------------------------------- */
/* --- SVG FOOTER (Applied by chart-renderer.js) --- */
/* ------------------------------------------------------------------- */
.gantt-footer-svg {
  /* This class is just a container.
     Styles are applied directly via JS.
  */
  width: 100%;
}

/* ------------------------------------------------------------------- */
/* --- PHASE 5: DRAG-TO-EDIT STYLES --- */
/* ------------------------------------------------------------------- */

/* Draggable bars: Add visual feedback */
.gantt-bar[draggable="true"] {
  cursor: move !important;
  transition: opacity 0.2s ease, transform 0.2s ease;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Bar being dragged */
.gantt-bar.dragging {
  opacity: 0.5;
  transform: scale(1.02);
  z-index: 1000;
}

/* Time cells during drag */
.gantt-time-cell.drag-over {
  background-color: rgba(186, 57, 48, 0.1) !important;
  transition: background-color 0.15s ease;
}

/* Drag indicator (floating notification) */
.drag-indicator {
  animation: fadeInDown 0.3s ease;
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Hover effect for draggable bars */
.gantt-bar[draggable="true"]:hover {
  filter: brightness(1.1);
  transform: scale(1.01);
}

/* Prevent text selection during drag */
body.dragging {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Phase 1: Visual feedback for drop zones */
.gantt-bar-area.valid-drop-zone {
  background-color: rgba(80, 175, 123, 0.15) !important; /* Green tint for valid drop */
  outline: 2px dashed rgba(80, 175, 123, 0.5);
  outline-offset: -2px;
  transition: background-color 0.15s ease, outline 0.15s ease;
}

.gantt-bar-area.invalid-drop-zone {
  background-color: rgba(186, 57, 48, 0.15) !important; /* Red tint for invalid drop */
  outline: 2px dashed rgba(186, 57, 48, 0.5);
  outline-offset: -2px;
  transition: background-color 0.15s ease, outline 0.15s ease;
}

/* ------------------------------------------------------------------- */
/* --- PHASE 5: CONTEXT MENU STYLES --- */
/* ------------------------------------------------------------------- */

.context-menu {
  position: absolute;
  background-color: #1A1A1A;
  border: 1px solid #383838;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
  min-width: 200px;
  z-index: 10000;
  display: none;
  overflow: hidden;
}

.context-menu-title {
  padding: 12px 16px;
  font-size: 14px;
  font-weight: 600;
  color: #FFFFFF;
  background-color: #0c2340;
  border-bottom: 1px solid #383838;
}

.color-option {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 16px;
  cursor: pointer;
  transition: background-color 0.2s;
  color: #FFFFFF;
}

.color-option:hover {
  background-color: #546579;
}

.color-preview {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  flex-shrink: 0;
}

.color-label {
  font-size: 14px;
  color: #CCCCCC;
}

.color-option:hover .color-label {
  color: #FFFFFF;
}

/* --- BANKING ENHANCEMENT: COMPETITIVE INTELLIGENCE CARD --- */
.intel-card.competitive {
  background: linear-gradient(135deg, #1a2a3a 0%, #1f2937 100%);
  border-left: 4px solid #3B82F6;
}

.competitive-content {
  margin-top: 16px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.competitive-section {
  padding: 12px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 6px;
}

.competitive-section strong {
  display: block;
  color: #60A5FA;
  margin-bottom: 8px;
  font-size: 14px;
}

.competitive-section p {
  margin: 0;
  color: #E5E7EB;
  line-height: 1.6;
}

.competitor-list {
  list-style: none;
  padding: 0;
  margin: 8px 0 0 0;
}

.competitor-list li {
  padding: 6px 0 6px 20px;
  position: relative;
  color: #D1D5DB;
}

.competitor-list li:before {
  content: "‚ñ∏";
  position: absolute;
  left: 0;
  color: #60A5FA;
  font-weight: bold;
}

.competitive-section.advantage-highlight {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(59, 130, 246, 0.05) 100%);
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.competitive-section.market-window {
  background: rgba(245, 158, 11, 0.1);
  border-left: 3px solid #F59E0B;
}

/* --- BANKING ENHANCEMENT: INDUSTRY BENCHMARKS CARD --- */
.intel-card.benchmarks {
  background: linear-gradient(135deg, #1e293b 0%, #1f2937 100%);
  border-left: 4px solid #10B981;
}

.benchmarks-content {
  margin-top: 16px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.benchmark-item {
  padding: 16px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 6px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.benchmark-label {
  font-size: 14px;
  font-weight: 600;
  color: #10B981;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.benchmark-comparison {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: center;
  margin-bottom: 10px;
  font-size: 14px;
}

.your-value {
  color: #FFFFFF;
  font-weight: 600;
}

.industry-value {
  color: #9CA3AF;
}

.variance {
  padding: 4px 10px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
}

.variance.positive {
  background: rgba(16, 185, 129, 0.2);
  color: #10B981;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.benchmark-insight {
  margin-top: 8px;
  padding-top: 12px;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  color: #D1D5DB;
  font-size: 13px;
  line-height: 1.5;
  font-style: italic;
}

.benchmark-value {
  color: #E5E7EB;
  font-size: 14px;
  margin-bottom: 8px;
}

/* Responsive Design */
@media (max-width: 1024px) {
  .intelligence-grid {
    grid-template-columns: 1fr;
  }

  .insight-card {
    min-width: 250px;
  }
}

@media (max-width: 768px) {
  .summary-title {
    font-size: 48px;
  }

  .summary-title .icon {
    font-size: 54px;
  }

  .elevator-pitch {
    font-size: 26px;
  }

  .value-proposition {
    font-size: 26px;
  }

  .intel-card h3 {
    font-size: 33px;
  }

  .value-metrics {
    flex-direction: column;
    gap: 8px;
  }

  .insights-carousel {
    flex-direction: column;
  }

  .insight-card {
    min-width: 100%;
    max-width: 100%;
  }
}

/* ------------------------------------------------------------------- */
/* --- HAMBURGER MENU STYLES --- */
/* ------------------------------------------------------------------- */

.hamburger-menu-container {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 10001; /* Above everything else */
}

.hamburger-button {
  width: 50px;
  height: 50px;
  background: #0c2340;
  border: 2px solid rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
  opacity: 0;
}

.hamburger-button:hover {
  background: #0d2748;
  border-color: rgba(255, 255, 255, 0.4);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.5);
  opacity: 1;
}

.hamburger-button.active {
  background: #da291c;
  border-color: rgba(255, 255, 255, 0.5);
  opacity: 1;
}

.hamburger-icon {
  display: flex;
  flex-direction: column;
  gap: 5px;
  width: 24px;
}

.hamburger-icon span {
  display: block;
  width: 100%;
  height: 3px;
  background: #FFFFFF;
  border-radius: 2px;
  transition: all 0.3s ease;
}

.hamburger-button.active .hamburger-icon span:nth-child(1) {
  transform: rotate(45deg) translateY(8px);
}

.hamburger-button.active .hamburger-icon span:nth-child(2) {
  opacity: 0;
}

.hamburger-button.active .hamburger-icon span:nth-child(3) {
  transform: rotate(-45deg) translateY(-8px);
}

/* Navigation Menu */
.hamburger-nav {
  position: absolute;
  top: 60px;
  left: 0;
  background: #1A1A1A;
  border: 1px solid #383838;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
  min-width: 250px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.3s ease;
}

.hamburger-nav.active {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.hamburger-nav-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.hamburger-nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 16px 20px;
  color: #FFFFFF;
  text-decoration: none;
  font-size: 16px;
  font-weight: 500;
  transition: all 0.2s ease;
  border-bottom: 1px solid #2A2A2A;
}

.hamburger-nav-item:hover {
  background: #546579;
  padding-left: 24px;
}

/* Disabled menu items */
.hamburger-nav-item.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  pointer-events: auto; /* Override to allow click events for preventDefault */
}

.hamburger-nav-item.disabled:hover {
  background: transparent;
  padding-left: 20px; /* Keep original padding */
}

.hamburger-nav-item.disabled .nav-text {
  font-style: italic;
  color: #888;
}

.hamburger-nav-list li:first-child .hamburger-nav-item {
  border-radius: 8px 8px 0 0;
}

.hamburger-nav-list li:last-child .hamburger-nav-item {
  border-bottom: none;
  border-radius: 0 0 8px 8px;
}

.nav-icon {
  font-size: 20px;
  flex-shrink: 0;
}

.nav-text {
  flex: 1;
}

/* Section Isolation Styles */
.section-isolated {
  min-height: 100vh;
  margin-top: 0 !important;
}

#gantt-chart-container.section-isolated {
  margin-top: 24px !important;
}

/* Section Activation Animation */
.section-activated {
  animation: sectionActivate 0.8s ease;
}

@keyframes sectionActivate {
  0% {
    opacity: 0.7;
    transform: scale(0.98);
  }
  50% {
    opacity: 1;
    transform: scale(1.01);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Active menu item indicator */
.hamburger-nav-item.active {
  background: rgba(80, 175, 123, 0.2);
  border-left: 4px solid #50AF7B;
  padding-left: 16px;
}

/* Section Highlight Animation (legacy - for scroll-based navigation) */
.section-highlight {
  animation: highlightPulse 1.5s ease;
}

@keyframes highlightPulse {
  0% {
    box-shadow: 0 0 0 0 rgba(80, 175, 123, 0.7);
  }
  50% {
    box-shadow: 0 0 0 20px rgba(80, 175, 123, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(80, 175, 123, 0);
  }
}

/* Responsive Styles for Hamburger Menu */
@media (max-width: 768px) {
  .hamburger-menu-container {
    top: 10px;
    left: 10px;
  }

  .hamburger-button {
    width: 45px;
    height: 45px;
  }

  .hamburger-nav {
    min-width: 220px;
  }

  .hamburger-nav-item {
    padding: 14px 16px;
    font-size: 14px;
  }
}

/* --- ACCESSIBILITY & PERFORMANCE: MOBILE/TABLET RESPONSIVE DESIGN --- */

/* Tablets and smaller devices */
@media (max-width: 1024px) {
  /* Touch-friendly button sizes (WCAG 2.1 AA: minimum 44x44px) */
  .export-container button {
    min-width: 44px;
    min-height: 44px;
    font-size: 16px;
    padding: 12px 32px;
  }

  /* Stack export buttons vertically on tablets */
  .export-container {
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
    padding: 24px 16px;
  }

  /* Reduce gantt chart font sizes for better fit */
  .gantt-title {
    font-size: 24px;
  }

  .gantt-row-label {
    font-size: 14px;
  }

  .gantt-header {
    font-size: 12px;
  }
}

/* Mobile devices */
@media (max-width: 768px) {
  /* Larger touch targets for mobile */
  .export-container button {
    min-height: 48px;
    font-size: 16px;
    padding: 14px 24px;
  }

  /* Hamburger button larger on mobile (already defined above, just ensuring consistency) */
  .hamburger-button {
    min-width: 48px;
    min-height: 48px;
  }

  /* Gantt chart adjustments */
  .gantt-title {
    font-size: 20px;
    padding: 16px;
  }

  .gantt-row-label {
    font-size: 13px;
    padding: 10px 8px;
  }

  .gantt-header {
    font-size: 11px;
    padding: 8px 4px;
  }

  /* Reduce bar height for better mobile display */
  .gantt-bar {
    height: 18px;
    margin: 5px 3px;
  }

  /* Legend adjustments */
  .gantt-legend {
    font-size: 12px;
    padding: 12px;
  }

  .legend-item {
    font-size: 11px;
  }

  /* Modal adjustments for mobile */
  .modal-content {
    width: 95%;
    max-width: 95%;
    margin: 20px auto;
    padding: 20px;
  }

  .modal-header h2 {
    font-size: 20px;
  }
}

/* Small mobile devices */
@media (max-width: 480px) {
  /* Further reduce text sizes */
  .gantt-title {
    font-size: 18px;
    padding: 12px;
  }

  .export-container button {
    font-size: 15px;
    padding: 12px 20px;
  }

  /* Simplify legend on very small screens */
  .legend-list {
    flex-direction: column;
    gap: 8px;
  }

  .legend-item {
    width: 100%;
  }

  /* Modal takes full width on small mobile */
  .modal-content {
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    margin: 0;
    border-radius: 0;
  }
}

/* Landscape orientation adjustments */
@media (max-width: 768px) and (orientation: landscape) {
  /* Reduce vertical padding in landscape to save space */
  .gantt-title {
    padding: 12px;
  }

  .export-container {
    flex-direction: row;
    flex-wrap: wrap;
    padding: 12px;
  }

  .export-container button {
    flex: 1 1 calc(50% - 8px);
    min-width: 140px;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  /* Increase contrast for better visibility */
  button:focus,
  a:focus {
    outline-width: 4px;
  }

  .gantt-bar {
    border: 2px solid white;
  }

  .gantt-grid {
    border: 2px solid white;
  }
}

/* Reduced motion support for users with motion sensitivity */
@media (prefers-reduced-motion: reduce) {
  /* Disable animations for users who prefer reduced motion */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

}

/* ===================================================================
   PHASE 3: ENHANCED EXPORT CAPABILITIES
   Export Dropdown and Progress Indicators
   =================================================================== */

/* Export Dropdown Container */
.export-dropdown-container {
  position: relative;
  display: inline-block;
}

/* Export Dropdown Button */
.export-dropdown-container .viewer-btn {
  display: flex;
  align-items: center;
  gap: 8px;
}

.dropdown-arrow {
  font-size: 0.75rem;
  transition: transform 0.2s ease;
}

.export-dropdown-container .viewer-btn.active .dropdown-arrow {
  transform: rotate(180deg);
}

/* Export Dropdown Menu */
.export-dropdown-menu {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  border: 1px solid rgba(59, 130, 246, 0.3);
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
  min-width: 240px;
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px);
  transition: all 0.2s ease;
}

.export-dropdown-menu.open {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

/* Export Dropdown Item */
.export-dropdown-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  cursor: pointer;
  transition: all 0.2s;
  color: #e5e7eb;
  font-size: 0.875rem;
  font-weight: 500;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.export-dropdown-item:last-child {
  border-bottom: none;
}

.export-dropdown-item:hover {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(37, 99, 235, 0.2) 100%);
  padding-left: 20px;
}

.export-dropdown-item:first-child {
  border-top-left-radius: 12px;
  border-top-right-radius: 12px;
}

.export-dropdown-item:last-child {
  border-bottom-left-radius: 12px;
  border-bottom-right-radius: 12px;
}

.export-item-icon {
  font-size: 1.25rem;
  flex-shrink: 0;
}

/* Export Progress Modal */
.export-progress-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.75);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  animation: fadeIn 0.2s ease;
}

.export-progress-content {
  background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
  border: 2px solid rgba(59, 130, 246, 0.4);
  border-radius: 16px;
  padding: 2rem 2.5rem;
  min-width: 400px;
  max-width: 500px;
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5rem;
}

/* Export Progress Spinner */
.export-progress-spinner {
  width: 60px;
  height: 60px;
  border: 4px solid rgba(59, 130, 246, 0.2);
  border-top: 4px solid #3b82f6;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Export Progress Message */
.export-progress-message {
  font-size: 1rem;
  font-weight: 600;
  color: #e5e7eb;
  text-align: center;
}

/* Export Progress Bar */
.export-progress-bar {
  width: 100%;
  height: 8px;
  background-color: rgba(59, 130, 246, 0.2);
  border-radius: 4px;
  overflow: hidden;
  position: relative;
}

.export-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);
  border-radius: 4px;
  transition: width 0.3s ease;
  box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
}

/* Export Progress Percent */
.export-progress-percent {
  font-size: 1.5rem;
  font-weight: 700;
  color: #3b82f6;
  font-variant-numeric: tabular-nums;
}

/* Responsive */
@media (max-width: 768px) {
  .export-dropdown-menu {
    right: auto;
    left: 0;
    min-width: 220px;
  }

  .export-progress-content {
    min-width: 300px;
    padding: 1.5rem 2rem;
  }

  .export-progress-spinner {
    width: 48px;
    height: 48px;
  }

  .export-item-icon {
    font-size: 1rem;
  }
}

